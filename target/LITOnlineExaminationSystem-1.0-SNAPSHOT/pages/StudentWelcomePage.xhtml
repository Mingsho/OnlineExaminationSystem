<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>
        <f:view>
            <fieldset>
                <legend>Select Scheduled Exam</legend>
            </fieldset>
            <h:form id="frmSelectScheduledExam" class="form-horizontal" role="form">
                <div class="form-group">
                    <h:outputLabel id="lblSelectCourse"
                                   value="Select Course: "
                                   for="dListEnrolledCourses"
                                   class="col-sm-2"/>
                    <div class="col-sm-6">
                        <h:selectOneMenu id="dListEnrolledCourses"
                                         value="#{examDetail.selectedCourseId}"
                                         class="form-control"
                                         valueChangeListener="#{examDetail.dListEnrolledCourses_SelectedIndexChanged}"
                                         onchange="submit()">
                                        
                            <f:selectItem itemLabel="---Select your course---" />
                            <f:selectItems value="#{examDetail.lstEnrolledCourses}"
                                           var="course"
                                           itemLabel="#{course.courseName}"
                                           itemValue="#{course.courseID}" />
                        </h:selectOneMenu>
                    </div>
                    <div>
                        <h:outputLabel id="lblUserName"
                                       value="#{examDetail.loggedInUser.firstName}" />
                    </div>
                    <div>
                        <h:dataTable id="tblExams"
                                     value="#{examDetail.lstScheduledExams}"
                                     var="exam"
                                     binding="#{examDetail.tblScheduledExam}">
                            
                            <h:column>
                                <f:facet name="header">Exam ID</f:facet>
                                <h:outputLabel value="#{exam.examID}" />
                            </h:column>
                            <h:column>
                                <f:facet name="header">Exam Title</f:facet>
                                <h:outputLabel value="#{exam.examTitle}" />
                            </h:column>
                            <h:column>
                                <f:facet name="header">Exam Duration</f:facet>
                                <h:outputLabel value="#{exam.examDuration}" />
                            </h:column>
                            <h:column>
                                <f:facet name="header">Exam Start Date</f:facet>
                            </h:column>
                            <h:column>
                                <f:facet name="header"></f:facet>
                                <h:commandLink value="Take Exam"
                                               action="#{examDetail.startExam()}">
                                </h:commandLink>
                            </h:column>
                            
                        </h:dataTable>
                                     
                                     
                    </div>
                    
                </div>
            </h:form>
            
        </f:view>
    </h:body>
</html>

